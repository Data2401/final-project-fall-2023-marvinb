---
title: "Texas Wide Open"
author: "Marvin Bernardino"
date: "2023-11-26"
output: slidy_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
```

## Introduction

In 2013, Gov. Rick Perry launched the "Texas Wide Open For Business" campaign. Advertising campaigns were launched in major cities across California to lure them into moving to Texas (Texas Monthly, 2013).

In 2023, some Texans and other national figures are now blaming both California and these new migrants for whatever local problems these migrations may have caused.

Using some publicly available data, we will now try to answer whether Texas' inferiority complex is warranted or not.

## Data

The IRS publishes a yearly Population Migration Data. Every year, as taxes are filed, the IRS takes notes on address changes individuals report on their own income tax returns. 

The data normally includes:

- number of returns filed (approximates the number of households)
- number of personal exemptions claimed (approximates the number of invididuals)
- total adjusted gross income

The data is usually prepared year to year, meaning, it will take a lot of work to combine these data into bigger data sets, if year-to-year changes are to be analyzed.

Conveniently, user Patrick O'Connor in Kaggle, published a data set containing data from 1992 to 2020. 

## Kaggle Data by O'Connor

The data contains 9 fields, but some of these are just codes and abbreviations. The important fields include:

- Y1 (the year when the individual filed their last tax return)

- Y1_STATE_NAME (name of the state where the individual filed their last return)

- Y2 (the year when the individual filed their current tax return)

- Y2_STATE_NAME (name of the state the filer currently reside in)

- NUM_RETURNS (number of tax returns, approximates household)

- NUM_EXEMPTIONS (number of exemptions claimed, approximates number of individuals)

- AGI (adjusted gross income)

## Problems /  Objectives

The data will now able to show migration patterns, the number of households and number of individuals migrating to any state, and their household income.

We can now ask:

- How many individuals are migrating to Texas from California?

- What is the net migration from California to Texas?

- What is the household income of these migrants?

- Was Gov. Rick Perry's advertising campaign effective?

- 
What other information can be gleamed from these data?

## Raw Data

```{r, echo=FALSE}
library(tidyverse)
library(ggplot2)


irs_SOI_state_migraion_data <- read.csv("~/final-project-fall-2023-marvinb/irs_SOI_state_migraion_data.csv")
glimpse(irs_SOI_state_migraion_data)
```

## California to Texas Migration Data, 1992 to 2020


```{r, echo=FALSE}
CATXdata <- irs_SOI_state_migraion_data %>% filter(Y1_STATE_ABBR == "CA" & Y2_STATE_ABBR == "TX")

CATXdata <- CATXdata %>% select(Year = Y1, Californians = NUM_EXEMPTIONS, AGI, NUM_RETURNS)


options(scipen = 999)

ggplot(CATXdata, aes(Year, Californians)) + geom_point() + geom_line() + geom_vline(xintercept = 2013, linetype="dotted", color = "blue") + annotate(geom = "text", x = 2013, y = 100000, label = "2013")
```
See the drop in the number of migrants moving to Texas after 2013.

## Texas to California Migration Data, 1992 to 2020



## References

Herzog, M., Texas Monthly Staff. (2013, February 5). *Rick Perry to Californians: Come Check Out Texas.* Texas Monthly.  https://www.texasmonthly.com/news-politics/rick-perry-to-californians-come-check-out-texas/

O'Connor, P. (2023, September). *IRS Migration Data - 1992 to 2020.* kaggle. https://www.kaggle.com/datasets/wumanandpat/irs-migration-data-1992-to-2020
T